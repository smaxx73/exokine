<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Choisir une séance</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px;
      color: white;
      min-height: 100vh;
      background: linear-gradient(var(--clr-bg-start), var(--clr-bg-end));
      font-family: var(--ff-base);
    }
    h1 { margin-bottom: 30px; }
    .session-list { display: flex; flex-direction: column; gap: 15px; width: 100%; max-width: 400px; }
    .session-item { text-decoration: none; color: inherit; padding: 15px 20px; border-radius: var(--radius-md); background: var(--clr-white-10); text-align: center; transition: background .2s; }
    .session-item:hover { background: var(--clr-white-20); }
  </style>
  <script type="module">
    async function init(){
      const container = document.getElementById('sessions');
      let list = [];
      try {
        list = await fetch('sessions/index.json').then(r => r.json());
      } catch (e) {
        console.error(e);
      }
      for(const file of list){
        try{
          const data = await fetch('sessions/'+file).then(r=>r.json());
          const a = document.createElement('a');
          a.className = 'session-item';
          a.href = 'player.html?session=sessions/'+file;
          a.textContent = data.title || file;
          container.appendChild(a);
        }catch(e){ console.error(e); }
      }
    }
    window.addEventListener('DOMContentLoaded', init);
  </script>
</head>
<body>
  <h1>Choisissez une séance</h1>
  <div id="sessions" class="session-list"></div>
</body>
</html>
